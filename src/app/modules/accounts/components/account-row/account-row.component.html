<div class="account" mobileClass="b1-ellipsis">
  <div class="account-icon">
    <i
      b1-icon
      icon="university"
      class="b1-large"
      *ngIf="!account.isCardAccount"
      [ngbTooltip]="'components.acct.currentAccount' | translate"
      placement="right"></i>
    <i
      b1-icon
      icon="account-card"
      class="b1-large"
      *ngIf="account.isCardAccount"
      [ngbTooltip]="'components.acct.cardAccount' | translate"
      placement="right"></i>
  </div>
  <div class="account-body b1-ellipsis">
    <div class="account-name b1-ellipsis">
      {{ account.name }}
      <div class="account-number" [iban]="account.number"></div>
    </div>
    <div class="account-date">
      <span>{{ 'components.acct.acctDetail.turnoverDate' | translate }}</span>
      <span class="b1-ml-2 b1-mr-2">-</span>
      <span>{{ account.lastActive | date: 'dd.MM.yyyy' }}</span>
    </div>
    <div class="account-amount">
      <div class="account-balance">
        <span>{{ account.balance / 100 | money }}</span>
        <span class="b1-ml-2">{{ account.currencyCode }}</span>
      </div>
      <div class="account-turns">
        <div class="account-turns-debit">
          <i b1-icon icon="chevron-down"></i>
          {{ account.debitTurns / 100 | money }}
        </div>
        <div class="account-turns-credit">
          <i b1-icon icon="chevron-up"></i>
          {{ account.creditTurns / 100 | money }}
        </div>
      </div>
    </div>
  </div>

  <b1-dropdown class="account-more b1-card__col b1-card__col_dot" label="account actions" menuWidth="360px">
    <a class="b1-card__v-dots" slot="toggle"></a>
    <b1-dropdown-link
      *ngIf="account.currencyCode == 'UAH'"
      icon="file-details"
      label="components.acct.share"
      (btnClick)="showRequisitesModal()"></b1-dropdown-link>
    <ng-container *ngIf="account.isPaymentPayingAccount">
      <ng-container *checkRole="['Director', 'Accountant', 'PaymentsManager']">
        <!-- TODO ADD  IsPayingAccount on backend-->
        <b1-dropdown-link
          icon="cards"
          label="components.acct.actions.newInnerPayment"
          (btnClick)="createInnerPayment()"></b1-dropdown-link>
        <b1-dropdown-link
          icon="country"
          label="components.acct.actions.newOuterPayment"
          (btnClick)="createOuterPayment()"></b1-dropdown-link>
      </ng-container>
      <ng-container *checkRole="['Director', 'Accountant', 'ForeignCurrencyPaymentsManager']">
        <!-- TODO ADD  IsPayingAccount on backend-->
        <b1-dropdown-link
          *ngIf="account.currencyCode !== 'UAH'"
          icon="swift"
          label="components.acct.actions.newSwiftPayment"
          (btnClick)="createSwiftPayment()"></b1-dropdown-link>
      </ng-container>
    </ng-container>
  </b1-dropdown>
</div>
