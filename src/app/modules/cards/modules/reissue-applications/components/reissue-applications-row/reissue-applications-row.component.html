<div class="b1-page-content">
  <div id="checkbox{{ application.id }}">
    <input
      type="checkbox"
      class="b1-page-checkbox"
      [id]="application.id"
      [checked]="application.selected"
      (change)="selectApplication($event)" />
    <label [for]="application.id" [id]="application.id">
      <div class="b1-page-checkbox-icon" b1-icon icon="check"></div>
    </label>
  </div>
  <div
    class="b1-flex b1-align-center b1-justify-center b1-ml-6 application-icon">
    <img [src]="getImage() | async" />
  </div>
  <div class="application-body">
    <div class="application-body_item">
      <div class="b1-medium">
        <span>â„–</span>
        <span>{{ application.id }}</span>
      </div>
      <div class="b1-page-data__subtitle b1-light">
        <span>{{ 'components.pay.from' | translate }}</span>
        <span class="b1-mr-2">:</span>
        <span>{{ application.createDate | date: 'dd.MM.yyyy' }} </span>
      </div>
    </div>
    <div class="application-body_item">
      <div class="b1-medium">
        {{ application.cardOwnerName }}
      </div>
      <div class="b1-page-data__subtitle b1-light">
        <span [iban]="application.accountNumber"></span>
      </div>
    </div>
    <div class="application-body_item">
      <div class="application-body_number">
        <b1-card-number [cardNumber]="application.cardNumber"></b1-card-number>
      </div>
      <div class="b1-page-data__subtitle b1-light application-body_expired">
        <span>{{ application.cardExpired }}</span>
        <span b1-icon icon="arrow-right" class="b1-ml-2 b1-mr-2"></span>
        <span>{{ application.newExpiredDate }}</span>
      </div>
    </div>
  </div>
  <div
    class="account-more b1-card__col b1-card__col_dot"
    style="position: relative">
    <div class="dropdown">
      <a
        class="b1-card__v-dots"
        (click)="$event.stopPropagation(); dropdown.open()">
      </a>

      <ul
        class="b1-dropdown b1-bg-light"
        webClass="b1-animate fade-in-up"
        role="menu"
        style="width: 180px"
        ngbDropdown
        #dropdown="ngbDropdown"
        mobile-more
        more-auto-direction>
        <div class="b1-modal-close" webClass="hidden">
          <i
            b1-icon
            icon="cancel"
            (click)="$event.stopPropagation(); dropdown.close()"></i>
        </div>
        <li class="b1-dropdown__item">
          <a
            class="b1-dropdown__link"
            webClass="b1-base"
            mobileClass="b1-medium"
            (click)="showHistory()">
            <i b1-icon icon="list" class="b1-mr-3"></i>
            {{ 'shared.historyDocument' | translate }}
          </a>
        </li>
        <li class="b1-dropdown__item">
          <a
            class="b1-dropdown__link"
            webClass="b1-base"
            mobileClass="b1-medium"
            (click)="showSignes()">
            <i b1-icon icon="sign" class="b1-mr-3"></i>
            {{ 'components.pay.showSignes' | translate }}
          </a>
        </li>
        <li
          class="b1-dropdown__item"
          *ngIf="
            application.statusCode != 'BANKRECEIVED' &&
            application.statusCode != 'BANKPAID'
          ">
          <a
            class="b1-dropdown__link b1-dropdown__link_error"
            webClass="b1-base"
            mobileClass="b1-medium"
            (click)="removeApplication()">
            <i b1-icon icon="delete" class="b1-mr-3"></i>
            {{ 'actions.delete' | translate }}
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
